/********************************************Copyright******************************************************
**                                                                                                      
**
**-------------------------------------------文件信息-------------------------------------------------------
** 文件名称:			Wp_Flash.h
** 最后修订日期:  		2012-10-10
** 最后版本:			1.0
** 描述:				STM32内部Flash操作文件;
**
**-----------------------------------------------------------------------------------------------------------
** 创建人:				吴康
** 创建日期:			2012-02-09
** 版本:				1.0
** 描述:				STM32内部Flash操作文件;
**
**-----------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
** 版本:
** 描述:
**
**-----------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
** 版本:
** 描述:
**
*************************************************************************************************************/
#ifndef WP_FLASH_H
#define WP_FLASH_H


#include "stm32f10x.h"
#include "Wp_GPIO.h"
#include "Wp_Globle.h"


/************************************************************************************************************
**                             宏定义相关
*************************************************************************************************************/
#define FLASH_START_ADDRESS         0x800E000       // 配置Flash段起始地址

#define	FGET_FLASH_UNINITIALIZED()	((uint32_t)( *(volatile uint32_t*)(FLASH_START_ADDRESS) ) == 0xFFFFFFFF)

#define	CONFIG_ARRAY_SIZE			10              // 配置表大小


/************************************************************************************************************
**                                                     结构体定义
*************************************************************************************************************/
typedef struct WPflashconfig                        // 配置表
{
	uint32_t r[CONFIG_ARRAY_SIZE];
} WP_FLASH_INFO_STRUCT;


/*************************************************************************************************************
**                                                     结构体声明
**************************************************************************************************************/
extern WP_FLASH_INFO_STRUCT gflashConfig;
extern WP_FLASH_INFO_STRUCT greadflashConfig;


/************************************************************************************************************
**                             函数外部声明
*************************************************************************************************************/
extern void GetConfiguration(void);


#endif
/********************************************************************************************************
**                            End Of File
********************************************************************************************************/
