/********************************************Copyright******************************************************
**                                                                                                      
**
**-------------------------------------------文件信息-------------------------------------------------------
** 文件名称:			Wp_OLED.c
** 最后修订日期:  		2012-10-10
** 最后版本:			1.0
** 描述:				OLED驱动函数;
**
**-----------------------------------------------------------------------------------------------------------
** 创建人:				吴康
** 创建日期:			2012-02-09
** 版本:				1.0
** 描述:				OLED驱动函数;
**
**-----------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
** 版本:
** 描述:
**
**-----------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
** 版本:
** 描述:
**
*************************************************************************************************************/
#include "Wp_OLED.h"


// 16*16的点阵字体，取模方式：共阴，列行式，逆向输出，启智模块化机器人
const unsigned char Name16x16[] = 
{
    0x00, 0x00, 0x00, 0xFC, 0x44, 0x44, 0x44, 0x45, 0x46, 0x44, 0x44, 0x44, 0x44, 0x7C, 0x00, 0x00,
    0x40, 0x20, 0x18, 0x07, 0x00, 0xFC, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0xFC, 0x00, 0x00,     // 启

    0x10, 0x94, 0x53, 0x32, 0x1E, 0x32, 0x52, 0x10, 0x00, 0x7E, 0x42, 0x42, 0x42, 0x7E, 0x00, 0x00,
    0x00, 0x00, 0x00, 0xFF, 0x49, 0x49, 0x49, 0x49, 0x49, 0x49, 0x49, 0xFF, 0x00, 0x00, 0x00, 0x00,     // 智

    0x10, 0x10, 0xD0, 0xFF, 0x90, 0x14, 0xE4, 0xAF, 0xA4, 0xA4, 0xA4, 0xAF, 0xE4, 0x04, 0x00, 0x00,
    0x04, 0x03, 0x00, 0xFF, 0x00, 0x89, 0x4B, 0x2A, 0x1A, 0x0E, 0x1A, 0x2A, 0x4B, 0x88, 0x80, 0x00,     // 模

    0x20, 0x20, 0x20, 0xFF, 0x20, 0x20, 0x08, 0x08, 0x08, 0xFF, 0x08, 0x08, 0x08, 0xF8, 0x00, 0x00,     
    0x10, 0x30, 0x10, 0x0F, 0x88, 0x48, 0x21, 0x11, 0x0D, 0x03, 0x0D, 0x11, 0x21, 0x41, 0x81, 0x00,     // 块

    0x00, 0x80, 0x60, 0xF8, 0x07, 0x00, 0x00, 0x00, 0xFF, 0x40, 0x20, 0x10, 0x08, 0x04, 0x00, 0x00,     
    0x01, 0x00, 0x00, 0xFF, 0x00, 0x04, 0x02, 0x01, 0x3F, 0x40, 0x40, 0x40, 0x40, 0x40, 0x78, 0x00,     // 化

    0x10, 0x10, 0xD0, 0xFF, 0x90, 0x10, 0x00, 0xFE, 0x02, 0x02, 0x02, 0xFE, 0x00, 0x00, 0x00, 0x00,
    0x04, 0x03, 0x00, 0xFF, 0x00, 0x83, 0x60, 0x1F, 0x00, 0x00, 0x00, 0x3F, 0x40, 0x40, 0x78, 0x00,     // 机

    0x80, 0x80, 0x9E, 0x92, 0x92, 0x92, 0x9E, 0xE0, 0x80, 0x9E, 0xB2, 0xD2, 0x92, 0x9E, 0x80, 0x00,
    0x08, 0x08, 0xF4, 0x94, 0x92, 0x92, 0xF1, 0x00, 0x01, 0xF2, 0x92, 0x94, 0x94, 0xF8, 0x08, 0x00,     // 器

    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC0, 0x3F, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x80, 0x40, 0x20, 0x10, 0x0C, 0x03, 0x00, 0x00, 0x00, 0x03, 0x0C, 0x10, 0x20, 0x40, 0x80, 0x00      // 人
};

// 16*16的点阵字体，取模方式：共阴，列行式，逆向输出，姿态信息
const unsigned char Atti16x16[] = 
{
    0x20, 0x21, 0xF2, 0x08, 0x04, 0x10, 0x88, 0x84, 0x47, 0x34, 0x44, 0x84, 0x94, 0x0C, 0x00, 0x00,     // 姿
    0x04, 0x84, 0x85, 0x94, 0x5D, 0x57, 0x24, 0x24, 0x24, 0x54, 0x4C, 0x44, 0x84, 0x05, 0x05, 0x00,

    0x00, 0x04, 0x84, 0x84, 0x44, 0x24, 0x54, 0x8F, 0x14, 0x24, 0x44, 0x84, 0x84, 0x04, 0x00, 0x00,     // 态
    0x41, 0x39, 0x00, 0x00, 0x3C, 0x40, 0x40, 0x42, 0x4C, 0x40, 0x40, 0x70, 0x04, 0x09, 0x31, 0x00,

    0x00, 0x80, 0x60, 0xF8, 0x07, 0x00, 0x04, 0x24, 0x24, 0x25, 0x26, 0x24, 0x24, 0x24, 0x04, 0x00,     // 信
    0x01, 0x00, 0x00, 0xFF, 0x00, 0x00, 0x00, 0xF9, 0x49, 0x49, 0x49, 0x49, 0x49, 0xF9, 0x00, 0x00,

    0x00, 0x00, 0x00, 0xFC, 0x54, 0x54, 0x56, 0x55, 0x54, 0x54, 0x54, 0xFC, 0x00, 0x00, 0x00, 0x00,     // 息
    0x40, 0x30, 0x00, 0x03, 0x39, 0x41, 0x41, 0x45, 0x59, 0x41, 0x41, 0x73, 0x00, 0x08, 0x30, 0x00
};

// 6*8的点阵
const unsigned char F6x8[][6] =
{
    { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 },   // sp
    { 0x00, 0x00, 0x00, 0x2f, 0x00, 0x00 },   // !
    { 0x00, 0x00, 0x07, 0x00, 0x07, 0x00 },   // "
    { 0x00, 0x14, 0x7f, 0x14, 0x7f, 0x14 },   // #
    { 0x00, 0x24, 0x2a, 0x7f, 0x2a, 0x12 },   // $
    { 0x00, 0x62, 0x64, 0x08, 0x13, 0x23 },   // %
    { 0x00, 0x36, 0x49, 0x55, 0x22, 0x50 },   // &
    { 0x00, 0x00, 0x05, 0x03, 0x00, 0x00 },   // '
    { 0x00, 0x00, 0x1c, 0x22, 0x41, 0x00 },   // (
    { 0x00, 0x00, 0x41, 0x22, 0x1c, 0x00 },   // )
    { 0x00, 0x14, 0x08, 0x3E, 0x08, 0x14 },   // *
    { 0x00, 0x08, 0x08, 0x3E, 0x08, 0x08 },   // +
    { 0x00, 0x00, 0x00, 0xA0, 0x60, 0x00 },   // ,
    { 0x00, 0x08, 0x08, 0x08, 0x08, 0x08 },   // -
    { 0x00, 0x00, 0x60, 0x60, 0x00, 0x00 },   // .
    { 0x00, 0x20, 0x10, 0x08, 0x04, 0x02 },   // /
    { 0x00, 0x3E, 0x51, 0x49, 0x45, 0x3E },   // 0
    { 0x00, 0x00, 0x42, 0x7F, 0x40, 0x00 },   // 1
    { 0x00, 0x42, 0x61, 0x51, 0x49, 0x46 },   // 2
    { 0x00, 0x21, 0x41, 0x45, 0x4B, 0x31 },   // 3
    { 0x00, 0x18, 0x14, 0x12, 0x7F, 0x10 },   // 4
    { 0x00, 0x27, 0x45, 0x45, 0x45, 0x39 },   // 5
    { 0x00, 0x3C, 0x4A, 0x49, 0x49, 0x30 },   // 6
    { 0x00, 0x01, 0x71, 0x09, 0x05, 0x03 },   // 7
    { 0x00, 0x36, 0x49, 0x49, 0x49, 0x36 },   // 8
    { 0x00, 0x06, 0x49, 0x49, 0x29, 0x1E },   // 9
    { 0x00, 0x00, 0x36, 0x36, 0x00, 0x00 },   // :
    { 0x00, 0x00, 0x56, 0x36, 0x00, 0x00 },   // ;
    { 0x00, 0x08, 0x14, 0x22, 0x41, 0x00 },   // <
    { 0x00, 0x14, 0x14, 0x14, 0x14, 0x14 },   // =
    { 0x10, 0x10, 0x92, 0x54, 0x28, 0x10 },   // >
    { 0x00, 0x02, 0x01, 0x51, 0x09, 0x06 },   // ?
    { 0x00, 0x32, 0x49, 0x59, 0x51, 0x3E },   // @
    { 0x00, 0x7C, 0x12, 0x11, 0x12, 0x7C },   // A
    { 0x00, 0x7F, 0x49, 0x49, 0x49, 0x36 },   // B
    { 0x00, 0x3E, 0x41, 0x41, 0x41, 0x22 },   // C
    { 0x00, 0x7F, 0x41, 0x41, 0x22, 0x1C },   // D
    { 0x00, 0x7F, 0x49, 0x49, 0x49, 0x41 },   // E
    { 0x00, 0x7F, 0x09, 0x09, 0x09, 0x01 },   // F
    { 0x00, 0x3E, 0x41, 0x49, 0x49, 0x7A },   // G
    { 0x00, 0x7F, 0x08, 0x08, 0x08, 0x7F },   // H
    { 0x00, 0x00, 0x41, 0x7F, 0x41, 0x00 },   // I
    { 0x00, 0x20, 0x40, 0x41, 0x3F, 0x01 },   // J
    { 0x00, 0x7F, 0x08, 0x14, 0x22, 0x41 },   // K
    { 0x00, 0x7F, 0x40, 0x40, 0x40, 0x40 },   // L
    { 0x00, 0x7F, 0x02, 0x0C, 0x02, 0x7F },   // M
    { 0x00, 0x7F, 0x04, 0x08, 0x10, 0x7F },   // N
    { 0x00, 0x3E, 0x41, 0x41, 0x41, 0x3E },   // O
    { 0x00, 0x7F, 0x09, 0x09, 0x09, 0x06 },   // P
    { 0x00, 0x3E, 0x41, 0x51, 0x21, 0x5E },   // Q
    { 0x00, 0x7F, 0x09, 0x19, 0x29, 0x46 },   // R
    { 0x00, 0x46, 0x49, 0x49, 0x49, 0x31 },   // S
    { 0x00, 0x01, 0x01, 0x7F, 0x01, 0x01 },   // T
    { 0x00, 0x3F, 0x40, 0x40, 0x40, 0x3F },   // U
    { 0x00, 0x1F, 0x20, 0x40, 0x20, 0x1F },   // V
    { 0x00, 0x3F, 0x40, 0x38, 0x40, 0x3F },   // W
    { 0x00, 0x63, 0x14, 0x08, 0x14, 0x63 },   // X
    { 0x00, 0x07, 0x08, 0x70, 0x08, 0x07 },   // Y
    { 0x00, 0x61, 0x51, 0x49, 0x45, 0x43 },   // Z
    { 0x00, 0x00, 0x7F, 0x41, 0x41, 0x00 },   // [
    { 0x00, 0x55, 0x2A, 0x55, 0x2A, 0x55 },   // 55
    { 0x00, 0x00, 0x41, 0x41, 0x7F, 0x00 },   // ]
    { 0x00, 0x04, 0x02, 0x01, 0x02, 0x04 },   // ^
    { 0x00, 0x40, 0x40, 0x40, 0x40, 0x40 },   // _
    { 0x00, 0x00, 0x01, 0x02, 0x04, 0x00 },   // '
    { 0x00, 0x20, 0x54, 0x54, 0x54, 0x78 },   // a
    { 0x00, 0x7F, 0x48, 0x44, 0x44, 0x38 },   // b
    { 0x00, 0x38, 0x44, 0x44, 0x44, 0x20 },   // c
    { 0x00, 0x38, 0x44, 0x44, 0x48, 0x7F },   // d
    { 0x00, 0x38, 0x54, 0x54, 0x54, 0x18 },   // e
    { 0x00, 0x08, 0x7E, 0x09, 0x01, 0x02 },   // f
    { 0x00, 0x18, 0xA4, 0xA4, 0xA4, 0x7C },   // g
    { 0x00, 0x7F, 0x08, 0x04, 0x04, 0x78 },   // h
    { 0x00, 0x00, 0x44, 0x7D, 0x40, 0x00 },   // i
    { 0x00, 0x40, 0x80, 0x84, 0x7D, 0x00 },   // j
    { 0x00, 0x7F, 0x10, 0x28, 0x44, 0x00 },   // k
    { 0x00, 0x00, 0x41, 0x7F, 0x40, 0x00 },   // l
    { 0x00, 0x7C, 0x04, 0x18, 0x04, 0x78 },   // m
    { 0x00, 0x7C, 0x08, 0x04, 0x04, 0x78 },   // n
    { 0x00, 0x38, 0x44, 0x44, 0x44, 0x38 },   // o
    { 0x00, 0xFC, 0x24, 0x24, 0x24, 0x18 },   // p
    { 0x00, 0x18, 0x24, 0x24, 0x18, 0xFC },   // q
    { 0x00, 0x7C, 0x08, 0x04, 0x04, 0x08 },   // r
    { 0x00, 0x48, 0x54, 0x54, 0x54, 0x20 },   // s
    { 0x00, 0x04, 0x3F, 0x44, 0x40, 0x20 },   // t
    { 0x00, 0x3C, 0x40, 0x40, 0x20, 0x7C },   // u
    { 0x00, 0x1C, 0x20, 0x40, 0x20, 0x1C },   // v
    { 0x00, 0x3C, 0x40, 0x30, 0x40, 0x3C },   // w
    { 0x00, 0x44, 0x28, 0x10, 0x28, 0x44 },   // x
    { 0x00, 0x1C, 0xA0, 0xA0, 0xA0, 0x7C },   // y
    { 0x00, 0x44, 0x64, 0x54, 0x4C, 0x44 },   // z
    { 0x14, 0x14, 0x14, 0x14, 0x14, 0x14 }    // horiz lines
};

// 8*16的点阵
const unsigned char F8X16[]=
{
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,    // 0
	0x00,0x00,0x00,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x33,0x30,0x00,0x00,0x00,    //!1
	0x00,0x10,0x0C,0x06,0x10,0x0C,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,    //"2
	0x40,0xC0,0x78,0x40,0xC0,0x78,0x40,0x00,0x04,0x3F,0x04,0x04,0x3F,0x04,0x04,0x00,    //#3
	0x00,0x70,0x88,0xFC,0x08,0x30,0x00,0x00,0x00,0x18,0x20,0xFF,0x21,0x1E,0x00,0x00,    //$4
	0xF0,0x08,0xF0,0x00,0xE0,0x18,0x00,0x00,0x00,0x21,0x1C,0x03,0x1E,0x21,0x1E,0x00,    //%5
	0x00,0xF0,0x08,0x88,0x70,0x00,0x00,0x00,0x1E,0x21,0x23,0x24,0x19,0x27,0x21,0x10,    //&6
	0x10,0x16,0x0E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,    //'7
	0x00,0x00,0x00,0xE0,0x18,0x04,0x02,0x00,0x00,0x00,0x00,0x07,0x18,0x20,0x40,0x00,    //(8
	0x00,0x02,0x04,0x18,0xE0,0x00,0x00,0x00,0x00,0x40,0x20,0x18,0x07,0x00,0x00,0x00,    //)9
	0x40,0x40,0x80,0xF0,0x80,0x40,0x40,0x00,0x02,0x02,0x01,0x0F,0x01,0x02,0x02,0x00,    //*10
	0x00,0x00,0x00,0xF0,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x1F,0x01,0x01,0x01,0x00,    //+11
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xB0,0x70,0x00,0x00,0x00,0x00,0x00,    //,12
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x01,    //-13
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,0x00,0x00,    //.14
	0x00,0x00,0x00,0x00,0x80,0x60,0x18,0x04,0x00,0x60,0x18,0x06,0x01,0x00,0x00,0x00,    ///15
	0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,0x0F,0x10,0x20,0x20,0x10,0x0F,0x00,    //016
	0x00,0x10,0x10,0xF8,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,    //117
	0x00,0x70,0x08,0x08,0x08,0x88,0x70,0x00,0x00,0x30,0x28,0x24,0x22,0x21,0x30,0x00,    //218
	0x00,0x30,0x08,0x88,0x88,0x48,0x30,0x00,0x00,0x18,0x20,0x20,0x20,0x11,0x0E,0x00,    //319
	0x00,0x00,0xC0,0x20,0x10,0xF8,0x00,0x00,0x00,0x07,0x04,0x24,0x24,0x3F,0x24,0x00,    //420
	0x00,0xF8,0x08,0x88,0x88,0x08,0x08,0x00,0x00,0x19,0x21,0x20,0x20,0x11,0x0E,0x00,    //521
	0x00,0xE0,0x10,0x88,0x88,0x18,0x00,0x00,0x00,0x0F,0x11,0x20,0x20,0x11,0x0E,0x00,    //622
	0x00,0x38,0x08,0x08,0xC8,0x38,0x08,0x00,0x00,0x00,0x00,0x3F,0x00,0x00,0x00,0x00,    //723
	0x00,0x70,0x88,0x08,0x08,0x88,0x70,0x00,0x00,0x1C,0x22,0x21,0x21,0x22,0x1C,0x00,    //824
	0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,0x00,0x31,0x22,0x22,0x11,0x0F,0x00,    //925
	0x00,0x00,0x00,0xC0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,    //:26
	0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x60,0x00,0x00,0x00,0x00,    //;27
	0x00,0x00,0x80,0x40,0x20,0x10,0x08,0x00,0x00,0x01,0x02,0x04,0x08,0x10,0x20,0x00,    //<28
	0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x00,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x00,    //=29
	0x00,0x08,0x10,0x20,0x40,0x80,0x00,0x00,0x00,0x20,0x10,0x08,0x04,0x02,0x01,0x00,    //>30
	0x00,0x70,0x48,0x08,0x08,0x08,0xF0,0x00,0x00,0x00,0x00,0x30,0x36,0x01,0x00,0x00,    //?31
	0xC0,0x30,0xC8,0x28,0xE8,0x10,0xE0,0x00,0x07,0x18,0x27,0x24,0x23,0x14,0x0B,0x00,    //@32
	0x00,0x00,0xC0,0x38,0xE0,0x00,0x00,0x00,0x20,0x3C,0x23,0x02,0x02,0x27,0x38,0x20,    //A33
	0x08,0xF8,0x88,0x88,0x88,0x70,0x00,0x00,0x20,0x3F,0x20,0x20,0x20,0x11,0x0E,0x00,    //B34
	0xC0,0x30,0x08,0x08,0x08,0x08,0x38,0x00,0x07,0x18,0x20,0x20,0x20,0x10,0x08,0x00,    //C35
	0x08,0xF8,0x08,0x08,0x08,0x10,0xE0,0x00,0x20,0x3F,0x20,0x20,0x20,0x10,0x0F,0x00,    //D36
	0x08,0xF8,0x88,0x88,0xE8,0x08,0x10,0x00,0x20,0x3F,0x20,0x20,0x23,0x20,0x18,0x00,    //E37
	0x08,0xF8,0x88,0x88,0xE8,0x08,0x10,0x00,0x20,0x3F,0x20,0x00,0x03,0x00,0x00,0x00,    //F38
	0xC0,0x30,0x08,0x08,0x08,0x38,0x00,0x00,0x07,0x18,0x20,0x20,0x22,0x1E,0x02,0x00,    //G39
	0x08,0xF8,0x08,0x00,0x00,0x08,0xF8,0x08,0x20,0x3F,0x21,0x01,0x01,0x21,0x3F,0x20,    //H40
	0x00,0x08,0x08,0xF8,0x08,0x08,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,    //I41
	0x00,0x00,0x08,0x08,0xF8,0x08,0x08,0x00,0xC0,0x80,0x80,0x80,0x7F,0x00,0x00,0x00,    //J42
	0x08,0xF8,0x88,0xC0,0x28,0x18,0x08,0x00,0x20,0x3F,0x20,0x01,0x26,0x38,0x20,0x00,    //K43
	0x08,0xF8,0x08,0x00,0x00,0x00,0x00,0x00,0x20,0x3F,0x20,0x20,0x20,0x20,0x30,0x00,    //L44
	0x08,0xF8,0xF8,0x00,0xF8,0xF8,0x08,0x00,0x20,0x3F,0x00,0x3F,0x00,0x3F,0x20,0x00,    //M45
	0x08,0xF8,0x30,0xC0,0x00,0x08,0xF8,0x08,0x20,0x3F,0x20,0x00,0x07,0x18,0x3F,0x00,    //N46
	0xE0,0x10,0x08,0x08,0x08,0x10,0xE0,0x00,0x0F,0x10,0x20,0x20,0x20,0x10,0x0F,0x00,    //O47
	0x08,0xF8,0x08,0x08,0x08,0x08,0xF0,0x00,0x20,0x3F,0x21,0x01,0x01,0x01,0x00,0x00,    //P48
	0xE0,0x10,0x08,0x08,0x08,0x10,0xE0,0x00,0x0F,0x18,0x24,0x24,0x38,0x50,0x4F,0x00,    //Q49
	0x08,0xF8,0x88,0x88,0x88,0x88,0x70,0x00,0x20,0x3F,0x20,0x00,0x03,0x0C,0x30,0x20,    //R50
	0x00,0x70,0x88,0x08,0x08,0x08,0x38,0x00,0x00,0x38,0x20,0x21,0x21,0x22,0x1C,0x00,    //S51
	0x18,0x08,0x08,0xF8,0x08,0x08,0x18,0x00,0x00,0x00,0x20,0x3F,0x20,0x00,0x00,0x00,    //T52
	0x08,0xF8,0x08,0x00,0x00,0x08,0xF8,0x08,0x00,0x1F,0x20,0x20,0x20,0x20,0x1F,0x00,    //U53
	0x08,0x78,0x88,0x00,0x00,0xC8,0x38,0x08,0x00,0x00,0x07,0x38,0x0E,0x01,0x00,0x00,    //V54
	0xF8,0x08,0x00,0xF8,0x00,0x08,0xF8,0x00,0x03,0x3C,0x07,0x00,0x07,0x3C,0x03,0x00,    //W55
	0x08,0x18,0x68,0x80,0x80,0x68,0x18,0x08,0x20,0x30,0x2C,0x03,0x03,0x2C,0x30,0x20,    //X56
	0x08,0x38,0xC8,0x00,0xC8,0x38,0x08,0x00,0x00,0x00,0x20,0x3F,0x20,0x00,0x00,0x00,    //Y57
	0x10,0x08,0x08,0x08,0xC8,0x38,0x08,0x00,0x20,0x38,0x26,0x21,0x20,0x20,0x18,0x00,    //Z58
	0x00,0x00,0x00,0xFE,0x02,0x02,0x02,0x00,0x00,0x00,0x00,0x7F,0x40,0x40,0x40,0x00,    //[59
	0x00,0x0C,0x30,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x06,0x38,0xC0,0x00,    //\60
	0x00,0x02,0x02,0x02,0xFE,0x00,0x00,0x00,0x00,0x40,0x40,0x40,0x7F,0x00,0x00,0x00,    //]61
	0x00,0x00,0x04,0x02,0x02,0x02,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,    //^62
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,    //_63
	0x00,0x02,0x02,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,    //`64
	0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x19,0x24,0x22,0x22,0x22,0x3F,0x20,    //a65
	0x08,0xF8,0x00,0x80,0x80,0x00,0x00,0x00,0x00,0x3F,0x11,0x20,0x20,0x11,0x0E,0x00,    //b66
	0x00,0x00,0x00,0x80,0x80,0x80,0x00,0x00,0x00,0x0E,0x11,0x20,0x20,0x20,0x11,0x00,    //c67
	0x00,0x00,0x00,0x80,0x80,0x88,0xF8,0x00,0x00,0x0E,0x11,0x20,0x20,0x10,0x3F,0x20,    //d68
	0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x1F,0x22,0x22,0x22,0x22,0x13,0x00,    //e69
	0x00,0x80,0x80,0xF0,0x88,0x88,0x88,0x18,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,    //f70
	0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x6B,0x94,0x94,0x94,0x93,0x60,0x00,    //g71
	0x08,0xF8,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x3F,0x21,0x00,0x00,0x20,0x3F,0x20,    //h72
	0x00,0x80,0x98,0x98,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,    //i73
	0x00,0x00,0x00,0x80,0x98,0x98,0x00,0x00,0x00,0xC0,0x80,0x80,0x80,0x7F,0x00,0x00,    //j74
	0x08,0xF8,0x00,0x00,0x80,0x80,0x80,0x00,0x20,0x3F,0x24,0x02,0x2D,0x30,0x20,0x00,    //k75
	0x00,0x08,0x08,0xF8,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,    //l76
	0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x20,0x3F,0x20,0x00,0x3F,0x20,0x00,0x3F,    //m77
	0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x3F,0x21,0x00,0x00,0x20,0x3F,0x20,    //n78
	0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x1F,0x20,0x20,0x20,0x20,0x1F,0x00,    //o79
	0x80,0x80,0x00,0x80,0x80,0x00,0x00,0x00,0x80,0xFF,0xA1,0x20,0x20,0x11,0x0E,0x00,    //p80
	0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x0E,0x11,0x20,0x20,0xA0,0xFF,0x80,    //q81
	0x80,0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x20,0x20,0x3F,0x21,0x20,0x00,0x01,0x00,    //r82
	0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x33,0x24,0x24,0x24,0x24,0x19,0x00,    //s83
	0x00,0x80,0x80,0xE0,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x1F,0x20,0x20,0x00,0x00,    //t84
	0x80,0x80,0x00,0x00,0x00,0x80,0x80,0x00,0x00,0x1F,0x20,0x20,0x20,0x10,0x3F,0x20,    //u85
	0x80,0x80,0x80,0x00,0x00,0x80,0x80,0x80,0x00,0x01,0x0E,0x30,0x08,0x06,0x01,0x00,    //v86
	0x80,0x80,0x00,0x80,0x00,0x80,0x80,0x80,0x0F,0x30,0x0C,0x03,0x0C,0x30,0x0F,0x00,    //w87
	0x00,0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x31,0x2E,0x0E,0x31,0x20,0x00,    //x88
	0x80,0x80,0x80,0x00,0x00,0x80,0x80,0x80,0x80,0x81,0x8E,0x70,0x18,0x06,0x01,0x00,    //y89
	0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x21,0x30,0x2C,0x22,0x21,0x30,0x00,    //z90
	0x00,0x00,0x00,0x00,0x80,0x7C,0x02,0x02,0x00,0x00,0x00,0x00,0x00,0x3F,0x40,0x40,    //{91
	0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,    //|92
	0x00,0x02,0x02,0x7C,0x80,0x00,0x00,0x00,0x00,0x40,0x40,0x3F,0x00,0x00,0x00,0x00,    //}93
	0x00,0x06,0x01,0x01,0x02,0x02,0x04,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00     //~94
};


/*************************************************************************************************************
** 函数名称:			OLED_DLY_ms
**
** 函数描述:			OLED使用延时函数;
** 						
**					    
** 输入变量:			unsigned int ms;
** 返回值:				void;
**
** 使用宏或常量:		None;
** 使用全局变量:		None;
**
** 调用函数:			None;
**
** 创建人:				
** 创建日期:			2011-11-1
**-------------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
**-------------------------------------------------------------------------------------------------------------
***************************************************************************************************************/
static void OLED_DLY_ms(unsigned int ms)
{                         
//	unsigned int a = 0;
    uint8_t a = 0;
      
	while (ms)
	{
		a = 100;                // 默认a = 1335，20161119修改为a = 100
		while(a--);
		ms--;
	}
    
	return;
}


/*************************************************************************************************************
** 函数名称:			OLED_WrDat
**
** 函数描述:			写IIC数据函数;
** 						
**					    
** 输入变量:			unsigned char data;
** 返回值:				void;
**
** 使用宏或常量:		None;
** 使用全局变量:		None;
**
** 调用函数:			None;
**
** 创建人:				
** 创建日期:			2011-11-1
**-------------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
**-------------------------------------------------------------------------------------------------------------
***************************************************************************************************************/
static void OLED_WrDat(unsigned char data)
{
	unsigned char i = 8;

	OLED_DC_OH;
	__NOP();
	OLED_D0_OL;
	__NOP();
    
	while (i--)
	{
		if (data & 0x80)
		{
            OLED_D1_OH;
        }
		else
		{
            OLED_D1_OL;
        }
        
		OLED_D0_OH;
		__NOP();		
		OLED_D0_OL;
        
		data <<= 1;    
	}
}


/*************************************************************************************************************
** 函数名称:			OLED_WrCmd
**
** 函数描述:			写IIC命令函数;
** 						
**					    
** 输入变量:			unsigned char cmd;
** 返回值:				void;
**
** 使用宏或常量:		None;
** 使用全局变量:		None;
**
** 调用函数:			None;
**
** 创建人:				
** 创建日期:			2011-11-1
**-------------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
**-------------------------------------------------------------------------------------------------------------
***************************************************************************************************************/
static void OLED_WrCmd(unsigned char cmd)
{
	unsigned char i = 8;
    
	OLED_DC_OL;
	OLED_D0_OL;
	__NOP();
    
	while (i--)
	{
		if (cmd & 0x80)
		{
            OLED_D1_OH;
        }
		else
		{
            OLED_D1_OL;
        }

		OLED_D0_OH;
		__NOP();
		OLED_D0_OL;
        
		cmd <<= 1;
	}
}


/*************************************************************************************************************
** 函数名称:			OLED_Set_Pos
**
** 函数描述:			设置起始坐标;
** 						
**					    
** 输入变量:			unsigned char x, unsigned char y;
** 返回值:				void;
**
** 使用宏或常量:		None;
** 使用全局变量:		None;
**
** 调用函数:			None;
**
** 创建人:				
** 创建日期:			2011-11-1
**-------------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
**-------------------------------------------------------------------------------------------------------------
***************************************************************************************************************/
static void OLED_Set_Pos(unsigned char x, unsigned char y)
{
    OLED_WrCmd(0xb0 + y);
    OLED_WrCmd(((x & 0xf0) >> 4) | 0x10);
    OLED_WrCmd((x & 0x0f) | 0x01);
}


/*************************************************************************************************************
** 函数名称:			Wp_FillOled
**
** 函数描述:			满屏函数;
** 						
**					    
** 输入变量:			void;
** 返回值:				void;
**
** 使用宏或常量:		None;
** 使用全局变量:		None;
**
** 调用函数:			None;
**
** 创建人:				
** 创建日期:			2011-11-1
**-------------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
**-------------------------------------------------------------------------------------------------------------
***************************************************************************************************************/
void Wp_FillOled(void)     
{
	unsigned char x = 0, y = 0;
	
	for(y = 0; y < 8; y++)          // 页指针
	{
		OLED_WrCmd(0xb0 + y);
	//	OLED_WrCmd(0x01);
        OLED_WrCmd(0x00);
		OLED_WrCmd(0x10);
        
		for(x = 0; x < X_WIDTH; x++)
        {
            OLED_WrDat(0xff);       // 写数据比如写0x00为清屏 0xff为满屏
        }
	}
}


/*************************************************************************************************************
** 函数名称:			Wp_ClearOled
**
** 函数描述:			清屏函数;
** 						
**					    
** 输入变量:			void;
** 返回值:				void;
**
** 使用宏或常量:		None;
** 使用全局变量:		None;
**
** 调用函数:			None;
**
** 创建人:				
** 创建日期:			2011-11-1
**-------------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
**-------------------------------------------------------------------------------------------------------------
***************************************************************************************************************/
void Wp_ClearOled(void)
{
	unsigned char x = 0, y = 0;	
    
	for (y = 0; y < 8; y++)
	{
		OLED_WrCmd(0xb0 + y);       // 列指针
	//	OLED_WrCmd(0x01);           // Default set
        OLED_WrCmd(0x00);
		OLED_WrCmd(0x10); 
        
		for(x = 0; x < X_WIDTH; x++)
        {
            OLED_WrDat(0x00);       // 写数据比如写0x00为清屏 0xff为满屏
        }
	}
    
    oled_x = 0;
    oled_y = 0;
}


/*************************************************************************************************************
** 函数名称:			Wp_OledInit
**
** 函数描述:			OLED初始化;
** 						
**					    
** 输入变量:			void;
** 返回值:				void;
**
** 使用宏或常量:		None;
** 使用全局变量:		None;
**
** 调用函数:			None;
**
** 创建人:				
** 创建日期:			2011-11-1
**-------------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
**-------------------------------------------------------------------------------------------------------------
***************************************************************************************************************/
void Wp_OledInit(void)        
{
	GPIO_InitTypeDef OLED_GPIO_InitStructure;

	RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOD, ENABLE);

	OLED_GPIO_InitStructure.GPIO_Pin = OLED_SCL | OLED_SDA | OLED_RST | OLED_DC;
	OLED_GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
	OLED_GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;
	GPIO_Init(GPIOD, &OLED_GPIO_InitStructure);
	
	OLED_D0_OH;
	
	OLED_RST_OL;                    // 从上电到下面开始初始化要有足够的时间，即等待RC复位完毕
	OLED_DLY_ms(50);
	OLED_RST_OH;
	
    OLED_WrCmd(0xAE | 0x00);	 	// Display Off (0x00)
    OLED_WrCmd(0xD5);
    OLED_WrCmd(0x80);		     	// Set Clock as 100 Frames/Sec
    OLED_WrCmd(0xA8);
    OLED_WrCmd(0x3F);	         	// 1/64 Duty (0x0F~0x3F)
    OLED_WrCmd(0xD3);
    OLED_WrCmd(0x00);		     	// Shift Mapping RAM Counter (0x00~0x3F)
    OLED_WrCmd(0x40 | 0x00);     	// Set Mapping RAM Display Start Line (0x00~0x3F)
    OLED_WrCmd(0x8D);
    OLED_WrCmd(0x10 | 0x04);	 	// Enable Embedded DC/DC Converter (0x00/0x04)
    OLED_WrCmd(0x20);
    OLED_WrCmd(0x02);		     	// Set Page Addressing Mode (0x00/0x01/0x02)
    OLED_WrCmd(0xA0 | 0x01);     	// Set SEG/Column Mapping
    OLED_WrCmd(0xC0 | 0x08);     	// Set COM/x Scan Direction
    OLED_WrCmd(0xDA);
    OLED_WrCmd(0x02 | 0x10);     	// Set Sequential Configuration (0x00/0x10)
    OLED_WrCmd(0x81);
    OLED_WrCmd(0xCF);	         	// Set SEG Output Current
    OLED_WrCmd(0xD9);
    OLED_WrCmd(0xF1);            	// Set Pre-Charge as 15 Clocks & Discharge as 1 Clock
    OLED_WrCmd(0xDB);
    OLED_WrCmd(0x40);	         	// Set VCOM Deselect Level
    OLED_WrCmd(0xA4 | 0x00);	 	// Disable Entire Display On (0x00/0x01)
    OLED_WrCmd(0xA6 | 0x00);	 	// Disable Inverse Display On (0x00/0x01)
    OLED_WrCmd(0xAE | 0x01);     	// Display On (0x01)
    
	Wp_ClearOled();  			 	// 初始清屏
	OLED_Set_Pos(0, 0);  	        // 设置起始坐标
}


/*************************************************************************************************************
** 函数名称:			OLED_P6x8Char
**
** 函数描述:			写入一组标准ASCII字符串，小字符;
** 						显示的位置(x, y)，x为行范围0~120，y为页范围0~7，要显示的字符;
**					    
** 输入变量:			u8 x, u8 y, char ch;
** 返回值:				void;
**
** 使用宏或常量:		None;
** 使用全局变量:		None;
**
** 调用函数:			None;
**
** 创建人:				
** 创建日期:			2011-11-1
**-------------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
**-------------------------------------------------------------------------------------------------------------
***************************************************************************************************************/
void OLED_P6x8Char(u8 x, u8 y, char ch)
{
	u8 c = 0, i = 0;
    
    if (x > 122 && y > 7)
        return;
    
    x = x*6;
    
    OLED_Set_Pos(x, y);
    
    if (ch >= 32 && ch <= 125)
	{
		c = ch - 32;
        
		for (i = 0; i < 6; i++)
        {
            OLED_WrDat(F6x8[c][i]);
        }
	}
}


/*************************************************************************************************************
** 函数名称:			OLED_P6x8Str
**
** 函数描述:			写入一组标准ASCII字符串，小字符串;
** 						显示的位置(x, y)，x为行范围0~120，y为页范围0~7，要显示的字符串;
**					    
** 输入变量:			u8 x, u8 y, char ch[];
** 返回值:				void;
**
** 使用宏或常量:		None;
** 使用全局变量:		None;
**
** 调用函数:			None;
**
** 创建人:				
** 创建日期:			2011-11-1
**-------------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
**-------------------------------------------------------------------------------------------------------------
***************************************************************************************************************/
void OLED_P6x8Str(u8 x, u8 y, char ch[])		
{
	u8 c = 0, i = 0, j = 0;
    
    if (x > 122 && y > 7)
        return;
    
    x = x*6;
    
//	OLED_Set_Pos(x*6, y);                   // 原代码设置起始坐标代码
    OLED_Set_Pos(x, y);
    
	while (ch[j] != '\0')
	{
		c = ch[j] - 32;
		if (x > 122)                        // 原代码 if (x > 126)
        {
            x = 0;
            y++;
            
            if (y > 7)
                return;
        }
        
		for (i = 0; i < 6; i++)
        {
            OLED_WrDat(F6x8[c][i]);
        }
        
		x += 6;
		j++;
	}
}


/*************************************************************************************************************
** 函数名称:			OLED_P8x16Char
**
** 函数描述:			写入一个标准ASCII字符串，大字符;
** 						显示的位置(x, y)，x为行范围0~15，y为页范围0~3，要显示的字符;
**					    
** 输入变量:			u8 x, u8 y, char ch;
** 返回值:				void;
**
** 使用宏或常量:		None;
** 使用全局变量:		None;
**
** 调用函数:			None;
**
** 创建人:				
** 创建日期:			2011-11-1
**-------------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
**-------------------------------------------------------------------------------------------------------------
***************************************************************************************************************/
void OLED_P8x16Char(u8 x, u8 y, char ch)
{
	u8 c = 0, i = 0;
    
    if (x > 120 || y > 7)                       // 120=128-8，最右边一个字符显示起始坐标
        return;

    x <<= 3;
    
    if (ch >= 32 && ch <= 125)
    {
        c = ch - 32;
        
    //  OLED_Set_Pos(x, y);                     // 上半部分
        OLED_WrCmd(0xb0 + (y << 1));
        OLED_WrCmd(((x & 0xf0) >> 4) | 0x10);
        OLED_WrCmd((x & 0x0f) | 0x01);
        for (i = 0; i < 8; i++)
        {
            OLED_WrDat(F8X16[(c << 4) + i]);
        }
        
    //  OLED_Set_Pos(x, y+1);                   // 下半部分
        OLED_WrCmd(0xb1 + (y << 1));
        OLED_WrCmd(((x & 0xf0) >> 4) | 0x10);
        OLED_WrCmd((x & 0x0f) | 0x01);
        for (i = 0; i < 8; i++)
        {
            OLED_WrDat(F8X16[(c << 4) + i + 8]);
        }
    }
}


/*************************************************************************************************************
** 函数名称:			OLED_P8x16Str
**
** 函数描述:			写入一组标准ASCII字符串，大字符串;
** 						显示的位置(x, y)，x为行范围0~120，y为页范围0~7，要显示的字符串;
**					    
** 输入变量:			u8 x, u8 y, u8 ch[];
** 返回值:				void;
**
** 使用宏或常量:		None;
** 使用全局变量:		None;
**
** 调用函数:			None;
**
** 创建人:				
** 创建日期:			2011-11-1
**-------------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
**-------------------------------------------------------------------------------------------------------------
***************************************************************************************************************/
void OLED_P8x16Str(u8 x, u8 y, char ch[])
{
	u8 c = 0, i = 0, j = 0;
    
    if (x > 16 || y > 4)                       // 120=128-8，最右边一个字符显示起始坐标
        return;
    
    x <<= 3;
    
	while (ch[j] != '\0')
	{   
		c = ch[j] - 32;
		if (x > 120)
        {
            x = 0;
            y++;
            
            if (y > 4)
                return;
        }
        
	//	OLED_Set_Pos(x, y);
        OLED_WrCmd(0xb0 + (y << 1));
        OLED_WrCmd(((x & 0xf0) >> 4) | 0x10);
        OLED_WrCmd((x & 0x0f) | 0x01);
		for (i = 0; i < 8; i++)
        {
            OLED_WrDat(F8X16[(c << 4) + i]);
        }
        
	//	OLED_Set_Pos(x, y+1);
        OLED_WrCmd(0xb1 + (y << 1));
        OLED_WrCmd(((x & 0xf0) >> 4) | 0x10);
        OLED_WrCmd((x & 0x0f) | 0x01);
		for (i = 0; i < 8; i++)
        {
            OLED_WrDat(F8X16[(c << 4) + i + 8]);
        }
        
		x += 8;
		j++;
	}
}


/*************************************************************************************************************
** 函数名称:			OLED_P6x8Num_8bit
**
** 函数描述:			显示小数字;
** 						
**					    
** 输入变量:			unsigned char x, unsigned char y, unsigned char Number;
** 返回值:				void;
**
** 使用宏或常量:		None;
** 使用全局变量:		None;
**
** 调用函数:			None;
**
** 创建人:				
** 创建日期:			2011-11-1
**-------------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
**-------------------------------------------------------------------------------------------------------------
***************************************************************************************************************/
void OLED_Dis6x8CharNum(unsigned char x, unsigned char y, unsigned char Number)
{
/*	unsigned char ch[3] = {0};              // 原程序，显示001
	int n = 0;
    
	for(n = 2; n >= 0; n--)
	{
		ch[n] = Number % 10 + '0';
		Number = Number / 10;
	}
    
	OLED_P6x8Str(x, y, ch);
*/  
/*  char ch[1] = {0};                       // 只显示1位，吴康修改
    
	ch[0] = Number % 10 + '0';
//	Number = Number / 10;
    
	OLED_P6x8Str(x, y, ch);
*/    
    char ch = 0;                            // 只显示1位，吴康修改
    
	ch = Number % 10 + '0';
    
	OLED_P6x8Char(x, y, ch);
}


/*************************************************************************************************************
** 函数名称:			OLED_P8x16Num_8bit
**
** 函数描述:			显示大数字;
** 						
**					    
** 输入变量:			unsigned char x, unsigned char y, unsigned char Number;
** 返回值:				void;
**
** 使用宏或常量:		None;
** 使用全局变量:		None;
**
** 调用函数:			None;
**
** 创建人:				
** 创建日期:			2011-11-1
**-------------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
**-------------------------------------------------------------------------------------------------------------
***************************************************************************************************************/
void OLED_Dis8x16CharNum(unsigned char x, unsigned char y, unsigned char Number)
{
/*	unsigned char ch[3] = {0};          // 原程序，显示001
	int n = 0;
    
	for(n = 2; n >= 0; n--)
	{
		ch[n] = Number % 10 + '0';
		Number = Number / 10;
	}
    
	OLED_P8x16Str(x, y, ch);
*/
/*  char ch[1] = {0};                   // 只显示1位，吴康修改
    
	ch[0] = Number % 10 + '0';
//	Number = Number / 10;
    
	OLED_P8x16Str(x, y, ch);
*/    
    char ch = 0;                        // 只显示1位，吴康修改
    
	ch = Number % 10 + '0';
    
	OLED_P8x16Char(x, y, ch);
}


/*************************************************************************************************************
** 函数名称:			Wp_DisP16x16DotArray
**
** 函数描述:			显示16*16点阵汉字;
** 						x行范围0~7，y页范围0~3，n为点阵数组字体顺序;
**					    
** 输入变量:			unsigned char x, unsigned char y, unsigned char n;
** 返回值:				void;
**
** 使用宏或常量:		None;
** 使用全局变量:		None;
**
** 调用函数:			None;
**
** 创建人:				
** 创建日期:			2011-11-1
**-------------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
**-------------------------------------------------------------------------------------------------------------
***************************************************************************************************************/
void Wp_DisP16x16DotArray(unsigned char x, unsigned char y, unsigned char n)
{
	unsigned char i = 0;
	unsigned int adder = 32 * n;
    
    x <<= 4;
    
//	OLED_Set_Pos(x, y);
    OLED_WrCmd(0xb0 + (y << 1));
    OLED_WrCmd(((x & 0xf0) >> 4) | 0x10);
    OLED_WrCmd((x & 0x0f) | 0x01);
    
	for(i = 0; i < 16; i++)
	{
		OLED_WrDat(Atti16x16[adder]);
		adder += 1;
	}
    
//	OLED_Set_Pos(x, y+1);
    OLED_WrCmd(0xb1 + (y << 1));
    OLED_WrCmd(((x & 0xf0) >> 4) | 0x10);
    OLED_WrCmd((x & 0x0f) | 0x01);    
    
	for(i = 0; i < 16; i++)
	{
		OLED_WrDat(Atti16x16[adder]);
		adder += 1;
	}
}


/*************************************************************************************************************
** 函数名称:			Wp_DisP16x16HanZiArray
**
** 函数描述:			显示16*16点阵汉字;
** 						
**					    
** 输入变量:			unsigned char x, unsigned char y, const unsigned char hanzi[], unsigned char n;
** 返回值:				void;
**
** 使用宏或常量:		None;
** 使用全局变量:		None;
**
** 调用函数:			None;
**
** 创建人:				
** 创建日期:			2011-11-1
**-------------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
**-------------------------------------------------------------------------------------------------------------
***************************************************************************************************************/
void Wp_DisP16x16HanZiArray(unsigned char x, unsigned char y, const unsigned char hanzi[], unsigned char n)
{
	unsigned char i = 0;
	unsigned int adder = 32 * n;
    
    x <<= 4;
    
//	OLED_Set_Pos(x, y);
    OLED_WrCmd(0xb0 + (y << 1));
    OLED_WrCmd(((x & 0xf0) >> 4) | 0x10);
    OLED_WrCmd((x & 0x0f) | 0x01);
    
	for(i = 0; i < 16; i++)
	{
		OLED_WrDat(hanzi[adder]);
		adder += 1;
	}
    
//	OLED_Set_Pos(x, y+1);
    OLED_WrCmd(0xb1 + (y << 1));
    OLED_WrCmd(((x & 0xf0) >> 4) | 0x10);
    OLED_WrCmd((x & 0x0f) | 0x01);    
    
	for(i = 0; i < 16; i++)
	{
		OLED_WrDat(hanzi[adder]);
		adder += 1;
	}
}


/*************************************************************************************************************
** 函数名称:			Wp_DisIntNum
**
** 函数描述:			固定位置显示数字;
** 						显示的位置(x, y)，x为行范围0~15，y为页范围0~7，num为显示数字，n为显示位数，最多显示5位;
**					    
** 输入变量:			unsigned char x, unsigned char y, unsigned int num, unsigned char n;
** 返回值:				void;
**
** 使用宏或常量:		None;
** 使用全局变量:		None;
**
** 调用函数:			None;
**
** 创建人:				
** 创建日期:			2011-11-1
**-------------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
**-------------------------------------------------------------------------------------------------------------
***************************************************************************************************************/
void Wp_DisIntNum(unsigned char x, unsigned char y, unsigned int num, unsigned char n) 
{
	unsigned char i = 0;
	char ch[5] = {0};
    
//	x = x * 8;
    
	ch[0] = (num / 10000) % 10;                  // 万
	ch[1] = (num / 1000) % 10;                   // 千
	ch[2] = (num / 100) % 10;                    // 百
	ch[3] = (num / 10) % 10;                     // 十
	ch[4] = num % 10;                            // 个
    
	for (i = 0; i < 5; i++)
    {
     // ch[i] = ch[i] + 16 + 32;
        ch[i] += 48;
    }
    
	OLED_P8x16Str(x, y, &ch[5-n]);				// 从ACSII码表中读取字节，然后写入OLED
}


/*************************************************************************************************************
** 函数名称:			Wp_DisfloatIntegeranddecimal
**
** 函数描述:			固定位置显示数字;
** 						显示的位置(x, y)，x为行范围0~15，y为页范围0~7，real为显示的浮点数，N显示的小数位;
**					    
** 输入变量:			unsigned char x, unsigned char y, unsigned int num, unsigned char N;
** 返回值:				void;
**
** 使用宏或常量:		None;
** 使用全局变量:		None;
**
** 调用函数:			None;
**
** 创建人:				
** 创建日期:			2011-11-1
**-------------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
**-------------------------------------------------------------------------------------------------------------
***************************************************************************************************************/
void Wp_Disfloat(unsigned char x, unsigned char y, float real, unsigned char n)
{
//	unsigned char i_Count = 1;
	char ch[9] = {0};
	u16 j = 1;
	unsigned int real_int = 0;              // 整数部分缓存
	double decimal = 0;
	unsigned int real_decimal = 0;          // 小数部分缓存
    
//	x = x * 8;                              // X轴其实位
	real_int = (int)real;                   // 整数部分
	decimal = real - real_int;
	real_decimal = decimal * 1e4;           // 小数部分，放大1000倍
    
/*	while(real_int/10/j != 0)               // 计算整数部分位数
	{
        j = j * 10;
        i_Count++;
	}
*/  
	ch[0] = (real_int / 10000) % 10; 
	ch[1] = (real_int / 1000) % 10;
	ch[2] = (real_int / 100) % 10;
	ch[3] = (real_int / 10) % 10;
	ch[4] = (real_int / 1) % 10;
    
	ch[6] = (real_decimal / 1000) % 10;
	ch[7] = (real_decimal / 100) % 10;
//	ch[8] = (real_decimal / 10) % 10;
//	ch[9] = real_decimal % 10;
    
	for(j = 0; j < 9; j++) 
    {
        ch[j] = ch[j] + 16 + 32;
    }
    
	ch[5] = '.';
	ch[6 + n] = '\0';                        // 结束标志
    
	OLED_P8x16Str(x, y, &ch[2]);             // 自动计算整数部分位数，这里直接显示3位整数部分
}


/*************************************************************************************************************
** 函数名称:			Wp_DisfloatIntegerandDecimal
**
** 函数描述:			固定位置显示数字;
** 						显示的位置(x, y)，x为行范围0~15，y为页范围0~7，real为显示的浮点数，N1为显示整数位，N2为显示的小数位;
**					    
** 输入变量:			unsigned char x, unsigned char y, unsigned int num, unsigned char N;
** 返回值:				void;
**
** 使用宏或常量:		None;
** 使用全局变量:		None;
**
** 调用函数:			None;
**
** 创建人:				
** 创建日期:			2011-11-1
**-------------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
**-------------------------------------------------------------------------------------------------------------
***************************************************************************************************************/
void Wp_DisfloatIntegerandDecimal(unsigned char x, unsigned char y, float real, unsigned char N1, unsigned char N2) 
{
//	unsigned char i_Count = 1;
	char n[10] = {0};
	u16 j = 1;
    
	unsigned int real_int = 0;          // 整数部分缓存
	float decimal = 0;
	unsigned int real_decimal = 0;      // 小数部分缓存
    
//	x = x * 8;                          // X轴起始位
    
	real_int = (int)real;               // 整数部分
	decimal = real - real_int;
	real_decimal = decimal * 1e4;       // 小数部分，放大1000倍
    
/*	while(real_int/10/j != 0)           // 计算整数部分位数
	{
        j = j * 10;
        i_Count++;
	}
*/  
	n[0] = (real_int / 10000) % 10; 
	n[1] = (real_int / 1000) % 10;
	n[2] = (real_int / 100) % 10;
	n[3] = (real_int / 10) % 10;
	n[4] = (real_int / 1) % 10;
    
	n[6] = (real_decimal / 1000) % 10;
	n[7] = (real_decimal / 100) % 10;
	n[8] = (real_decimal / 10) % 10;
	n[9] = real_decimal % 10;
    
	for(j = 0; j < 10; j++) 
    {
        n[j] = n[j] + 16 + 32;
    }
    
	n[5] = '.';
	n[6 + N2] = '\0';                     // 结束标志
    
	OLED_P8x16Str(x ,y, &n[5-N1]);        // (5-N1)决定开始标志
}


/*************************************************************************************************************
** 函数名称:			fputc
**
** 函数描述:			定义 fputc 此函数为printf所用;
** 						
**					    
** 输入变量:			int ch;
** 返回值:				int;
**
** 使用宏或常量:		None;
** 使用全局变量:		None;
**
** 调用函数:			None;
**
** 创建人:				
** 创建日期:			2011-11-1
**-------------------------------------------------------------------------------------------------------------
** 修订人:
** 修订日期:
**-------------------------------------------------------------------------------------------------------------
***************************************************************************************************************/
int fputc(int ch)
{
	static u8 s_bClearScreen = 0;
    
	if (s_bClearScreen)
	{
		s_bClearScreen = 0;
		Wp_ClearOled();
	}
	if (ch == '\n')                     // 换行，光标移动下一行的首行
	{
	//	oled_y++;
		oled_x = 0;
	}
    if (oled_x > 15)
	{	
		oled_y++;
		oled_x = 0;
	}
	if (oled_y > 4)
	{
		s_bClearScreen = 1;
	}
	if (ch != '\r' && ch != '\n')       // '\r'回车，光标移到当前行的首行
	{
		OLED_P8x16Char(oled_x, oled_y, (u8)ch);
	//	oled_x += 8;
        oled_x += 1;
	}
    
    return ch; 
}


/********************************************************************************************************
**                            End Of File
********************************************************************************************************/
